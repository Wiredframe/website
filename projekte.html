<!doctype html>
<html lang="de">

<head>
	<!-- Filterbare Referenz-Galerie mit Lazy-Loading, Modal-Details und Tastatur-Navigation -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<!-- Prevent indexing -->
	<meta name="robots" content="noindex, nofollow, noarchive, nosnippet">
	<title>Referenzen — Wiredframe</title>
	<!-- Fonts loaded locally -->
	<script src="js/tailwind.js"></script>
	<style>
		/* Local font declarations */
		@font-face {
			font-family: 'Maven Pro';
			font-style: normal;
			font-weight: 300 900;
			font-display: swap;
			src: url('fonts/MavenPro-latin.woff2') format('woff2');
			unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,
				U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193,
				U+2212, U+2215, U+FEFF, U+FFFD;
		}

		@font-face {
			font-family: 'Maven Pro';
			font-style: normal;
			font-weight: 300 900;
			font-display: swap;
			src: url('fonts/MavenPro-latin-ext.woff2') format('woff2');
			unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF,
				U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020,
				U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
		}

		/* Tailwind config overrides for roundness and minimal look */
		:root {
			--rounded-lg: 18px
		}

		.card {
			border-radius: var(--rounded-lg);
		}

		.pill {
			border-radius: 9999px;
		}

		/* remove shadows globally for this page */
		.no-shadow * {
			box-shadow: none !important;
		}

		body {
			font-family: 'Maven Pro', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
		}

		/* Image intrinsic-size + aspect ratio to avoid layout shift for lazy images */
		.placeholder-img {
			background-color: #f3f4f6;
			object-position: top;
			opacity: 0;
			transition: opacity 360ms ease;
		}

		.card.clickable-url {
			cursor: pointer;
			transition: transform 180ms ease, box-shadow 180ms ease;
		}

		.card.clickable-url:hover {
			transform: translateY(-6px);
			box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
		}

		.modal-image {
			overflow-y: hidden;
		}

		.modal-image:hover {
			overflow-y: auto;
		}

		.modal-image .placeholder-img {
			object-position: top;
		}

		.modal-image::-webkit-scrollbar {
			width: 8px;
		}

		.modal-image::-webkit-scrollbar-thumb {
			background: rgba(0, 0, 0, .18);
			border-radius: 999px;
		}

		.modal-image {
			scrollbar-width: none;
		}

		.modal-image:hover {
			scrollbar-width: thin;
			scrollbar-color: rgba(0, 0, 0, 0.18) transparent;
		}

		.placeholder-img.is-loaded {
			opacity: 1;
		}

		.filter-bar select {
			-webkit-appearance: none;
			appearance: none;
			background-repeat: no-repeat;
			background-position: right 0.9rem center;
			background-size: 1.25rem;
			padding-right: 2.5rem;
			background-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%239CA3AF'%3E%3Cpath d='M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z'/%3E%3C/svg%3E");
		}

		dialog#card-modal {
			box-sizing: border-box;
			outline: none;
		}

		dialog#card-modal::backdrop {
			background-color: rgba(0, 0, 0, 0);
			transition: background-color 260ms cubic-bezier(.2, .9, .3, 1), opacity 260ms ease;
		}

		dialog#card-modal.is-open::backdrop {
			background-color: rgba(0, 0, 0, 0.25);
		}

		.modal-content {
			border-radius: var(--rounded-lg);
			max-height: calc(100vh - 4rem);
			overflow: auto;
			/* animation: start hidden (moved down + transparent). When .is-open is present it fades in and moves up to natural position */
			opacity: 0;
			transform: translateY(50px);
			transition: opacity 260ms ease, transform 260ms cubic-bezier(.2, .9, .3, 1);
		}

		/* visible/open state */
		.modal-content.is-open {
			opacity: 1;
			transform: translateY(0);
		}

		/* when modal open, lock page scroll by applying this class to <body> */
		body.modal-scroll-lock {
			position: fixed !important;
			inset: 0;
			/* top:0; right:0; bottom:0; left:0 */
			overflow: hidden !important;
			width: 100%;
		}

		.modal-details {
			display: flex;
			flex-direction: column;
		}

		.modal-nav {
			display: flex;
			justify-content: flex-end;
			gap: .75rem;
			margin-top: auto;
		}

		.modal-nav button {
			width: 48px;
			height: 48px;
			border-radius: 9999px;
			border: 1px solid rgba(0, 0, 0, 0.08);
			background: white;
			display: flex;
			align-items: center;
			justify-content: center;
			cursor: pointer;
		}

		.modal-nav button:hover {
			transform: translateY(-2px);
		}

		.modal-nav button::before {
			content: '';
			display: block;
			width: 18px;
			height: 18px;
			background: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%239CA3AF'%3E%3Cpath d='M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z'/%3E%3C/svg%3E") center/contain no-repeat;
		}

		.modal-nav button.prev::before {
			transform: rotate(90deg);
		}

		.modal-nav button.next::before {
			transform: rotate(-90deg);
		}

		.modal-image .placeholder-img {
			aspect-ratio: auto;
			contain-intrinsic-size: auto;
		}

		/* Password protection overlay */
		#pw-overlay {
			position: fixed;
			inset: 0;
			z-index: 99999;
			background: #f3f4f6;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		#pw-overlay.hidden {
			display: none;
		}

		#pw-box {
			background: white;
			padding: 2rem;
			border-radius: 18px;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
			text-align: center;
			max-width: 320px;
			width: 90%;
		}

		#pw-box h2 {
			margin: 0 0 0.5rem;
			font-size: 1.25rem;
			font-weight: 500;
		}

		#pw-box p {
			margin: 0 0 1rem;
			font-size: 0.875rem;
			color: #6b7280;
		}

		#pw-input {
			width: 100%;
			padding: 0.75rem 1rem;
			border: 1px solid #e5e7eb;
			border-radius: 9999px;
			margin-bottom: 0.75rem;
			font-size: 1rem;
		}

		#pw-input:focus {
			outline: none;
			border-color: #4cf799;
			;
		}

		#pw-submit {
			width: 100%;
			padding: 0.75rem;
			background: #4cf799;
			;
			border: none;
			border-radius: 9999px;
			font-size: 1rem;
			cursor: pointer;
		}

		#pw-submit:hover {
			background: #36ce7a;
		}

		#pw-error {
			color: #ef4444;
			font-size: 0.875rem;
			margin-top: 0.5rem;
			display: none;
		}

		#main-content {
			display: none;
		}

		#main-content.visible {
			display: block;
		}
	</style>
</head>

<body class="bg-gray-100 text-gray-900 no-shadow">
	<!-- Password Protection Overlay -->
	<div id="pw-overlay">
		<div id="pw-box">
			<h2>Geschützter Bereich</h2>
			<p>Diese Seite ist passwortgeschützt.</p>
			<form id="pw-form">
				<input type="password" id="pw-input" placeholder="Passwort eingeben" autocomplete="off">
				<button type="submit" id="pw-submit">Zugang</button>
				<div id="pw-error">Falsches Passwort</div>
			</form>
		</div>
	</div>
	<div id="main-content">
		<main class="max-w-6xl mx-auto px-6 py-12">
			<header class="mb-8">
				<h1 class="text-6xl font-regular">Projekte</h1>
				<p class="text-sm text-gray-600 mt-1">Eine Auswahl meiner Projekte. Filtere live nach Jahr, Typ oder
					Branche. </p>
			</header>
			<section class="mb-6">
				<div class="flex flex-wrap gap-3 items-center filter-bar">
					<input id="search" type="search" placeholder="Suche Projekt, Agentur…"
						class="w-full md:w-64 px-4 h-12 text-base rounded-full border border-gray-200 bg-white placeholder-gray-400"
						aria-label="Suche Referenzen">
					<select id="filter-year"
						class="w-full sm:w-auto md:w-48 px-4 pr-10 h-12 text-base rounded-full border border-gray-200 bg-white"
						aria-label="Filter Jahr">
						<option value="">Alle Jahre</option>
					</select>
					<select id="filter-type"
						class="w-full sm:w-auto md:w-48 px-4 pr-10 h-12 text-base rounded-full border border-gray-200 bg-white"
						aria-label="Filter Typ">
						<option value="">Alle Typen</option>
					</select>
					<select id="filter-branch"
						class="w-full sm:w-auto md:w-48 px-4 pr-10 h-12 text-base rounded-full border border-gray-200 bg-white"
						aria-label="Filter Branche">
						<option value="">Alle Branchen</option>
					</select>
					<button id="clear" type="button"
						class="px-5 h-12 text-base rounded-full bg-[#4cf799;] hover:bg-[#36ce7a] text-gray-600">Zurücksetzen</button>
				</div>
				<!-- Results count -->
				<div id="results-count" class="mt-3 text-sm text-gray-600" role="status" aria-live="polite">Lade
					Referenzen… </div>
			</section>
			<div id="grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
			<!-- sentinel for infinite scroll -->
			<div id="scroll-sentinel" class="h-8"></div>
			<template id="card-template">
				<article class="card border border-gray-100 p-4 bg-white group">
					<div class="w-full aspect-square bg-gray-100 rounded-md mb-4 overflow-hidden">
						<img src="" alt="Projektbild" class="w-full h-full object-cover object-top placeholder-img"
							loading="lazy" decoding="async" fetchpriority="low" />
					</div>
					<h3 class="text-lg font-medium project-title"></h3>
					<p class="text-sm text-gray-500 mt-1 project-meta"></p>
					<div class="mt-3 flex gap-2 flex-wrap">
						<span class="text-xs text-gray-600 px-3 py-1 border border-gray-200 pill agency"></span>
						<span class="text-xs text-gray-600 px-3 py-1 border border-gray-200 pill type"></span>
					</div>
				</article>
			</template>
		</main>
		<!-- Native dialog modal for card details (updated layout) -->
		<!-- Note: modal classes are on the dialog itself to avoid extra wrapping and enable smooth transitions -->
		<dialog id="card-modal" class="modal-content card md:w-[80vw] bg-white p-8 mx-auto relative" aria-hidden="true">
			<button id="modal-close" aria-label="Schließen"
				class="absolute top-4 right-4 z-20 w-12 h-12 rounded-full bg-white border">✕</button>
			<div class="grid md:grid-cols-3 gap-6">
				<div class="modal-image md:col-span-2 bg-gray-100 rounded-md h-64 md:h-[80vh]">
					<img id="modal-img" src="" alt="" class="w-full h-auto placeholder-img" />
				</div>
				<div class="modal-details md:col-span-1 overflow-auto">
					<h2 id="modal-title" class="text-3xl md:text-4xl font-normal mb-6 md:mt-8"></h2>
					<div id="modal-pairs" class="details flex flex-row flex-wrap gap-8   gap-y-4 text-base"></div>
					<!-- modal navigation buttons (prev / next) -->
					<div class="modal-nav" aria-hidden="false">
						<button id="modal-prev" class="prev" title="Vorheriges" aria-label="Vorheriges"
							aria-hidden="false"></button>
						<button id="modal-next" class="next" title="Nächstes" aria-label="Nächstes"
							aria-hidden="false"></button>
					</div>
				</div>
			</div>
		</dialog>
		<script>
			// Compact, delegated version of the original script
			(async function () {
				// --- helpers ---
				async function loadData() {
					try {
						const res = await fetch('data/references.json');
						if (!res.ok) throw new Error('No file');
						return await res.json();
					} catch (e) {
						return [{ Jahr: '', Projekttitel: 'No entries found', Typ: '', Branche: '', Agentur: '' }];
					}
				}

				function createOption(select, value) {
					const opt = document.createElement('option'); opt.value = value; opt.textContent = value; select.appendChild(opt);
				}

				function uniqueSort(arr) { return [...new Set(arr.filter(v => v && String(v).trim()))].sort((a, b) => b.localeCompare(a)); }

				function placeholder(title) {
					const initials = (title || '').trim().split(/\s+/).slice(0, 2).map(w => w[0] || '').join('').toUpperCase() || '?';
					return `data:image/svg+xml;utf8,${encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'><rect width='100%' height='100%' fill='%23fff'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%23e5e7eb' font-family='Maven Pro,Arial' font-size='96'>${initials}</text></svg>`)}`;
				}

				function slugify(title) {
					if (!title) return '';
					return title.trim().toLowerCase()
						.replace(/ä/g, 'ae').replace(/ö/g, 'oe').replace(/ü/g, 'ue').replace(/ß/g, 'ss')
						.replace(/&/g, 'and')
						.replace(/[\s\/\\]+/g, '-')
						.replace(/[^a-z0-9\-]/g, '')
						.replace(/-+/g, '-')
						.replace(/^-+|-+$/g, '');
				}

				function normalizeUrl(raw) {
					try {
						const trimmed = String(raw).trim();
						if (/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(trimmed)) return trimmed;
						return 'https://' + trimmed;
					} catch (e) { return raw; }
				}

				function debounce(fn, wait) { let t; return function (...args) { clearTimeout(t); t = setTimeout(() => fn.apply(this, args), wait); }; }

				// --- state ---
				const data = await loadData();
				data.sort((a, b) => (parseInt(b.Jahr) || 0) - (parseInt(a.Jahr) || 0));
				const PAGE_SIZE = 24;
				let currentList = [];
				let renderedCount = 0;
				let _currentIndex = -1;

				// --- DOM refs ---
				const grid = document.getElementById('grid');
				const tmpl = document.getElementById('card-template');
				const search = document.getElementById('search');
				const filterYear = document.getElementById('filter-year');
				const filterType = document.getElementById('filter-type');
				const filterBranch = document.getElementById('filter-branch');
				const clear = document.getElementById('clear');
				const resultsCountEl = document.getElementById('results-count');
				const sentinel = document.getElementById('scroll-sentinel');
				const dialog = document.getElementById('card-modal');
				const modalImg = document.getElementById('modal-img');
				const modalTitle = document.getElementById('modal-title');
				const modalPairs = document.getElementById('modal-pairs');
				const modalClose = document.getElementById('modal-close');
				const modalPrevBtn = document.getElementById('modal-prev');
				const modalNextBtn = document.getElementById('modal-next');

				// --- populate filters ---
				uniqueSort(data.map(d => d.Jahr)).forEach(y => createOption(filterYear, y));
				uniqueSort(data.map(d => d.Typ)).forEach(t => createOption(filterType, t));
				uniqueSort(data.map(d => d.Branche)).forEach(b => createOption(filterBranch, b));

				// --- image handlers (shared) ---
				function handleImageLoad(e) { e.currentTarget.classList.add('is-loaded'); }
				function handleImageError(e) { const img = e.currentTarget; img.onerror = null; img.src = placeholder(img.alt || ''); img.classList.add('is-loaded'); }

				// --- rendering ---
				function renderPage(items) {
					const frag = document.createDocumentFragment();
					items.forEach((item, i) => {
						const node = tmpl.content.cloneNode(true);
						const article = node.querySelector('article');
						const img = node.querySelector('img');
						const titleEl = node.querySelector('.project-title');
						const metaEl = node.querySelector('.project-meta');
						const agencyEl = node.querySelector('.agency');
						const typeEl = node.querySelector('.type');

						titleEl.textContent = item.Projekttitel || 'Untitled';
						metaEl.textContent = [item.Jahr, item.Branche].filter(Boolean).join(' • ');
						agencyEl.textContent = item.Agentur || '–';
						typeEl.textContent = item.Typ || '–';

						img.alt = item.Projekttitel || '';
						const imageFile = item.Image || (slugify(item.Projekttitel) + '.jpg');
						const imagePath = imageFile ? `images/referenzen/${imageFile}` : '';
						if (imagePath) { img.classList.remove('is-loaded'); img.onload = handleImageLoad; img.onerror = handleImageError; img.src = imagePath; }
						else { img.src = placeholder(item.Projekttitel); img.classList.add('is-loaded'); }

						article.dataset.index = renderedCount + i;
						article.dataset.image = imagePath || '';
						article.dataset.title = item.Projekttitel || '';
						article.dataset.jahr = item.Jahr || '';
						article.dataset.typ = item.Typ || '';
						article.dataset.branche = item.Branche || '';
						article.dataset.agentur = item.Agentur || '';
						article.dataset.url = (item.URL || item.url || '').trim();
						article.classList.add('clickable-url');

						frag.appendChild(article);
					});
					grid.appendChild(frag);
				}

				function render(list) {
					currentList = list || [];
					renderedCount = 0;
					grid.innerHTML = '';
					const total = data.length || 0;
					if (resultsCountEl) resultsCountEl.textContent = `${currentList.length} von ${total} Referenzen`;
					if (!currentList.length) { grid.innerHTML = '<p class="text-gray-500">Keine Projekte gefunden.</p>'; sentinel.style.display = 'none'; return; }
					renderMore();
				}

				function renderMore() {
					const next = currentList.slice(renderedCount, renderedCount + PAGE_SIZE);
					if (!next.length) { sentinel.style.display = 'none'; return; }
					renderPage(next);
					renderedCount += next.length;
					sentinel.style.display = renderedCount < currentList.length ? 'block' : 'none';
				}

				const io = new IntersectionObserver(entries => { entries.forEach(e => { if (e.isIntersecting) renderMore(); }); }, { root: null, rootMargin: '400px', threshold: 0 });
				io.observe(sentinel);

				// --- filtering ---
				function applyFilters() {
					const q = search.value.trim().toLowerCase();
					const y = filterYear.value; const t = filterType.value; const b = filterBranch.value;
					let filtered = data.filter(d => {
						if (y && d.Jahr !== y) return false; if (t && d.Typ !== t) return false; if (b && d.Branche !== b) return false;
						if (q) { const hay = `${d.Projekttitel} ${d.Agentur || ''} ${d.Typ || ''} ${d.Branche || ''}`.toLowerCase(); return hay.includes(q); }
						return true;
					});
					render(filtered);
				}

				search.addEventListener('input', debounce(applyFilters, 250));
				const selectHandler = debounce(applyFilters, 120);
				[filterYear, filterType, filterBranch].forEach(el => el.addEventListener('change', selectHandler));
				clear.addEventListener('click', () => { search.value = ''; filterYear.value = ''; filterType.value = ''; filterBranch.value = ''; applyFilters(); });

				render(data);

				// --- modal & interactions (delegated) ---
				function lockBodyScroll() { const y = window.scrollY; document.body.classList.add('modal-scroll-lock'); document.body.style.top = `-${y}px`; document._modalScrollY = y; }
				function unlockBodyScroll() { document.body.classList.remove('modal-scroll-lock'); document.body.style.top = ''; window.scrollTo(0, document._modalScrollY || 0); }

				function populateModalFromItem(item) {
					modalTitle.textContent = item.Projekttitel || '';
					const imgPath = item.Image || (slugify(item.Projekttitel) + '.jpg');
					const imagePath = imgPath ? `images/referenzen/${imgPath}` : '';
					modalImg.alt = item.Projekttitel || '';
					modalImg.classList.remove('is-loaded'); modalImg.onload = handleImageLoad; modalImg.onerror = handleImageError;
					modalImg.src = imagePath || placeholder(item.Projekttitel);
					modalPairs.innerHTML = '';
					[['Jahr', item.Jahr || '–'], ['Agentur', item.Agentur || '–'], ['Typ', item.Typ || '–'], ['Branche', item.Branche || '–']]
						.forEach(([k, v]) => { const el = document.createElement('div'); el.className = 'pair flex items-baseline gap-1 flex-col'; el.innerHTML = `<div class="key text-sm text-gray-500">${k}</div><div class="value text-base text-gray-700">${v}</div>`; modalPairs.appendChild(el); });
					const rawUrl = item.URL || item.url || '';
					if (rawUrl && String(rawUrl).trim()) { const raw = String(rawUrl).trim(); const href = normalizeUrl(raw); const isFigma = /figma\.com/i.test(href); const el = document.createElement('div'); el.className = 'pair flex items-baseline gap-1 flex-col'; el.innerHTML = `<div class="key text-sm text-gray-500">Website</div><div class="value text-base"><a class="text-base text-gray-700 underline" target="_blank" rel="noopener noreferrer" href="${href}">${isFigma ? 'Figma Prototype' : raw}</a></div>`; modalPairs.appendChild(el); }
				}

				function showModalAtIndex(idx) {
					if (!Array.isArray(currentList) || !currentList.length) return;
					if (idx < 0) idx = currentList.length - 1; if (idx >= currentList.length) idx = 0;
					_currentIndex = idx;
					populateModalFromItem(currentList[_currentIndex]);
					const openDialog = () => {
						// Lock scroll first to preserve current viewport position, then show the dialog.
						lockBodyScroll();
						if (typeof dialog.showModal === 'function' && !dialog.open) dialog.showModal();
						else dialog.style.display = 'block';
						dialog.setAttribute('aria-hidden', 'false');
						// ensure DOM cycle then add class to trigger transition on the dialog itself
						dialog.classList.remove('is-open');
						requestAnimationFrame(() => requestAnimationFrame(() => {
							dialog.classList.add('is-open');
						}));
					};

					if (!dialog.open && !dialog.hasAttribute('data-animating')) openDialog();
				}

				function modalPrev() { showModalAtIndex(_currentIndex - 1); }
				function modalNext() { showModalAtIndex(_currentIndex + 1); }

				// delegated click handler for cards
				grid.addEventListener('click', (e) => {
					const article = e.target.closest('article');
					if (!article || !grid.contains(article)) return;
					e.preventDefault();
					const idx = parseInt(article.dataset.index, 10);
					if (!Number.isNaN(idx)) showModalAtIndex(idx);
				});

				if (modalPrevBtn) modalPrevBtn.addEventListener('click', (e) => { e.stopPropagation(); modalPrev(); });
				if (modalNextBtn) modalNextBtn.addEventListener('click', (e) => { e.stopPropagation(); modalNext(); });

				document.addEventListener('keydown', (e) => {
					if (dialog && dialog.open) {
						if (e.key === 'ArrowLeft') { e.preventDefault(); modalPrev(); }
						if (e.key === 'ArrowRight') { e.preventDefault(); modalNext(); }
					}
					if (e.key === 'Escape' && dialog && dialog.open) {
						closeWithAnimation();
					}
				});

				// Close with animation: remove is-open to start closing transition, then close dialog after transitionend
				function closeWithAnimation() {
					const modal = dialog; // dialog now holds animation classes directly
					if (!modal) { if (typeof dialog.close === 'function') dialog.close(); dialog.setAttribute('aria-hidden', 'true'); unlockBodyScroll(); return; }
					if (dialog.hasAttribute('data-animating')) return; // already closing/opening
					dialog.setAttribute('data-animating', 'true');
					modal.classList.remove('is-open');
					const onEnd = (ev) => {
						if (ev.target !== modal) return;
						modal.removeEventListener('transitionend', onEnd);
						dialog.removeAttribute('data-animating');
						if (typeof dialog.close === 'function') dialog.close();
						dialog.setAttribute('aria-hidden', 'true');
						unlockBodyScroll();
					};
					modal.addEventListener('transitionend', onEnd);
					// fallback: ensure close after timeout even if transitionend doesn't fire
					setTimeout(() => { if (dialog.hasAttribute('data-animating')) onEnd({ target: modal }); }, 400);
				}

				modalClose.addEventListener('click', closeWithAnimation);
				dialog.addEventListener('click', (e) => { if (e.target === dialog) closeWithAnimation(); });

			})();
		</script>
		<footer role="contentinfo" class="mt-8 text-center py-8">
			<p class="text-xs text-gray-500 leading-none"> Made with <span aria-hidden="true">♥</span> and GitHub
				Copilot by <a href="https://www.wiredframe.de" target="_blank" rel="noopener noreferrer"
					class="text-gray-600 hover:underline"> wiredframe </a>
			</p>
		</footer>
	</div><!-- /#main-content -->
	<script>!function () { var _0x = ['\x70\x77\x2d', '\x6f\x76\x65\x72\x6c\x61\x79', '\x6d\x61\x69\x6e\x2d\x63\x6f\x6e\x74\x65\x6e\x74', '\x68\x69\x64\x64\x65\x6e', '\x76\x69\x73\x69\x62\x6c\x65'], _0xc = function (i) { return document.getElementById(i) }, _0xh = String.fromCharCode.apply(null, [100, 50, 108, 121, 90, 87, 82, 109, 99, 109, 70, 116, 90, 84, 73, 119, 77, 106, 89, 61]), _0xs = 'pw_ok', _0xa = function () { _0xc(_0x[0] + _0x[1]).classList.add(_0x[3]); _0xc(_0x[2]).classList.add(_0x[4]) }; if (sessionStorage.getItem(_0xs) === _0xh) _0xa(); _0xc(_0x[0] + 'form').addEventListener('submit', function (e) { e.preventDefault(); var v = _0xc(_0x[0] + 'input').value; if (btoa(v) === _0xh) { sessionStorage.setItem(_0xs, _0xh); _0xa() } else { _0xc(_0x[0] + 'error').style.display = 'block'; _0xc(_0x[0] + 'input').value = '' } }); }();</script>
</body>

</html>